<!DOCTYPE html>
<html lang="ko" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0" />
    <title></title>
    <style></style>
    <script>
        let students = [{'name':'김', 'kor':99, 'mat':98, 'eng':80, 'sci':85},
                        {'name':'이', 'kor':98, 'mat':99, 'eng':90, 'sci':80},
                        {'name':'박', 'kor':95, 'mat':95, 'eng':85, 'sci':98},
                        {'name':'최', 'kor':90, 'mat':90, 'eng':95, 'sci':90}];
        students.push(  {'name':'고', 'kor':95, 'mat':80, 'eng':99, 'sci':95});
        for (var idx in students) {
            students[idx].getSum = function() {
                return this.kor + this.mat + this.eng + this.sci;
            };
            students[idx].getAvg = function() {
                return this.getSum()/4;
            };
            students[idx].toString = function() {
                let output = '';
                for(let key in this) {
                    if (key!='getSum' && key!='getAvg' && key!='toString') {
                        output += key + ' : ' + this[key] + ' &nbsp; ';
                    } else if (key=='getSum'||key=='getAvg') {
                        output += key.substring(3).toUpperCase()+' : '+this[key]()+' &nbsp; ';
                        //3번째 글자부터 끝까지, 대문자 변환
                    }
                }
                return output;
            } //toString 오버라이딩
        };
        //출력 테스트 및 반복문 복습
        document.writeln('<h4>1. 일반 for문</h4>');
        for(let idx=0; idx<students.length; idx++) {
            //document.writeln(idx + '번째 - '+ students[idx] + '<br>');
            document.writeln(`${idx}번째 - ${students[idx]}<br>`);
        }
        document.writeln('<h4>2. for-in문</h4>');
        for(let idx in students) {
            document.writeln(`${idx}번째 - ${students[idx]}<br>`);
        }
        document.writeln('<h4>3. for-of문</h4>'); //idx 호출이 안 되네
        for (let student of students) {
            document.writeln(`${student} <br>`);
        }
        document.writeln('<h4>4. forEach()</h4>');
        students.forEach((data, idx) => document.writeln(`${idx}번째 - ${data}<br>`));
        document.writeln('<h4>5. forEach(index 필요 없는 경우)</h4>');
        students.forEach(data => document.writeln(`${data}<br>`));
        </script>
</head>
<body></body>
</html>