Ch. 11 이벤트

1. 이벤트(Event) 기본 용어

- 이벤트 (Event): 사용자의 마우스 클릭, 키보드 입력, 페이지 로딩 완료 등 웹 브라우저에서 발생하는 '사건'을 의미합니다.
- 이벤트 이름 (Event Name/Type): 이벤트의 종류를 나타내는 문자열입니다.
    - 예: click , load , mouseover , mouseout , mousedown , mouseup , submit
- 이벤트 속성 (Event Property): HTML 요소(객체)가 가진 속성으로, on으로 시작합니다.  (예: onclick, onload, onsubmit)
- 이벤트 리스너 (Event Listener / Handler): 이벤트가 발생했을 때 실제로 실행되도록 등록된 함수를 말합니다.
- 이벤트 객체 (Event Object): 이벤트가 발생할 때, 해당 이벤트에 대한 상세 정보(예: 마우스 클릭 좌표, 눌린 키의 정보 등)를 담아 리스너 함수로 전달되는 객체입니다.
    - 예: window.onclick = (event) => { let x = event.offsetX; }처럼 함수의 인자로 받아 사용합니다. (quiz_cf_clickmove.html 참고)

---

2. 3가지 이벤트 모델

이벤트 리스너(함수)를 HTML 요소에 연결하는 3가지 방식입니다.

- 인라인 이벤트 모델 (Inline Model): HTML 태그 안에 onclick="whenClick()"와 같이 속성으로 직접 이벤트 리스너를 작성하는 방식입니다.  (1_인라인이벤트모델.html, quiz1.html의 주석 처리된 교사 코드 참고)
- 기본 이벤트 모델 (Basic/Traditional Model): JavaScript 코드 내에서 header.onclick = function(){ ... }처럼 DOM 객체의 이벤트 속성에 함수를 할당(Assign)하는 방식입니다.  하나의 속성에는 하나의 함수만 할당할 수 있습니다. (2_기본이벤트모델.html, quiz1.html의 주석 처리된 교사 코드 참고)
- 표준 이벤트 모델 (Standard Model): header.addEventListener('click', function(){ ... }) 메소드를 호출하여 이벤트 리스너를 등록(Register)하는 방식입니다.  하나의 이벤트에 여러 개의 리스너 함수를 추가로 등록할 수 있습니다. (3_표준이벤트모델.html, quiz1.html, quiz2.html 참고)

---

3. 핵심 키워드: this

- 이벤트 리스너 함수(Handler) 내에서 this는 이벤트가 발생한 HTML 요소(Element) 객체 자신을 가리킵니다.
- 예를 들어 quiz1.html의 mouseover 이벤트 리스너에서 this는 마우스가 올라간 바로 그 <img> 태그를 의미하며, this.src = ... 코드로 해당 이미지의 소스를 변경합니다. (quiz1.html, quiz2.html, 4_this.html 참고)
- 주의: this를 이벤트 발생 객체로 정확히 사용하려면, 이벤트 리스너를 화살표 함수(=>)가 아닌 일반 function()으로 선언해야 하는 경우가 많습니다.

---

4. 주요 이벤트 처리 기술

- 마우스 이벤트 처리: mouseover / mouseout (마우스 올리고 내릴 때) 또는 mousedown / mouseup (마우스 버튼 누르고 뗄 때)  이벤트를 등록하여 이미지 소스(src)를 변경하는 등 시각적 효과를 줍니다. (quiz1.html, quiz2.html 참고)
- 이벤트 객체 활용 (좌표): window 객체 등에 이벤트를 등록하고, 리스너의 인자(예: event)로 이벤트 객체를 받아 event.offsetX, event.offsetY 같은 좌표 값을 읽어올 수 있습니다. (quiz_cf_clickmove.html 참고)
- CSS 스타일 변경: 이벤트 리스너 함수 내에서 this.style.color = 'red'  또는 img.style.left = x + 'px'처럼 DOM 요소의 style 속성을 변경하여 동적인 화면을 구현합니다. (quiz_cf_clickmove.html 참고)
- 이벤트 강제 발생: 사용자가 직접 클릭하지 않아도 코드(btnB.click())를 통해 이벤트를 강제로 실행시킬 수 있습니다.  (5_이벤트강제발생.html 참고)
- 이벤트 제거: 특정 조건(예: 7번 클릭)이 만족되면 이벤트 리스너를 제거하여 더 이상 작동하지 않게 만듭니다.
    - 기본 모델: this.onclick = null;
    - 표준 모델: this.removeEventListener('click', handler);
    - (6_이벤트제거.html 참고)
- 디폴트 이벤트 제한: <a> 태그의 페이지 이동이나 <form> 태그의 'submit' 동작  등 태그의 기본 동작(Default Event)을 막습니다.
    - 기본 모델: 리스너 함수에서 return false;를 실행합니다.  (7_이벤트제한.html 참고)
    - 표준 모델: 이벤트 객체(매개변수 e)의 e.preventDefault(); 메소드를 호출합니다. (7_이벤트제한(표준이벤트모델).html 참고)
- 반복문 내 이벤트 등록 (주의): for 반복문 안에서 var 대신 let을 사용해야 각 이벤트 리스너가 해당 반복의 i 값을 정확히 기억합니다(클로저 문제). (quiz1.html의 주석 및 코드 참고)